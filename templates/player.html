{{define "player"}}
{{if .}}
<div id="player" class="player">
  <div class="player__device">
    {{.Device.Name}}
  </div>

  <div class="player__cover">
    <div>
      {{with index .Item.Album.Images 0}}
      <img src={{.Url}} height={{.Height}} width={{.Height}} />
      {{end}}
    </div>
  </div>

  <div class="player__info">
    <div class="player__title">{{.Item.Name}}</div>
    <div class="player__album">{{.Item.Album.Name}}</div>
    <div class="player__artist">{{range .Item.Artists}}<span>{{.Name}}</span>{{end}}</div>
  </div>

  <div class="player__progress">
    <div class="progress">
      <div style="width: {{percent .ProgressMs .Item.DurationMs}}%;"></div>
    </div>
  </div>
</div>
{{else}}
<div>No active device found</div>
{{end}}
{{end}}

{{block "player" .}}{{end}}
